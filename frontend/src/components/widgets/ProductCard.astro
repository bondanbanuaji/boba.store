---
import { formatCurrency } from "../../lib/utils";

interface Props {
    product: {
        name: string;
        slug: string;
        imageUrl: string;
        provider: string;
        category: string;
    };
}

const { product } = Astro.props;
---

<a
    href={`/products/${product.slug}`}
    class="group relative block rounded-2xl overflow-hidden glass transition-all duration-300 hover:-translate-y-2 hover:shadow-[0_10px_40px_rgba(0,0,0,0.5)]"
>
    <!-- Image Container -->
    <div class="aspect-[3/4] overflow-hidden relative">
        <div
            class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"
        >
        </div>
        <img
            src={product.imageUrl || "/images/placeholder-game.jpg"}
            alt={product.name}
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            loading="lazy"
        />

        <!-- Category Badge -->
        <div class="absolute top-3 left-3 z-20">
            <span
                class="px-3 py-1 rounded-full text-xs font-bold bg-white/20 backdrop-blur-md text-white border border-white/10 uppercase tracking-wider"
            >
                {product.category}
            </span>
        </div>
    </div>

    <!-- Content -->
    <div class="absolute bottom-0 inset-x-0 p-5 z-20">
        <p
            class="text-white/60 text-xs font-medium mb-1 uppercase tracking-wider"
        >
            {product.provider}
        </p>
        <h3
            class="text-xl font-bold text-white group-hover:text-[var(--color-primary)] transition-colors line-clamp-1"
        >
            {product.name}
        </h3>

        <div
            class="mt-4 flex items-center gap-2 opacity-0 transform translate-y-4 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0"
        >
            <span
                class="w-full py-2 rounded-lg bg-white text-black text-center text-sm font-bold"
            >
                Top Up Sekarang
            </span>
        </div>
    </div>
</a>
